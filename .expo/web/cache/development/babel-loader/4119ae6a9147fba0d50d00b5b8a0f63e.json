{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/aichibaseball/training-management-app/src/components/FoodList.js\";\n\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport firebase from \"firebase\";\nimport Swipeable from 'react-native-gesture-handler/Swipeable';\nimport { FontAwesome } from '@expo/vector-icons';\nvar styles = StyleSheet.create({\n  foodListContainer: {\n    width: \"100%\",\n    flex: 1\n  },\n  listItemContainer: {\n    width: \"100%\",\n    borderBottomWidth: 1,\n    borderBottomColor: \"#ddd\",\n    backgroundColor: '#fff',\n    height: 50,\n    flexDirection: \"row\",\n    justifyContent: \"space-around\"\n  },\n  foodTitle: {\n    fontSize: 20,\n    width: \"50%\",\n    lineHeight: 50,\n    textAlign: \"center\"\n  },\n  kcal: {\n    flexDirection: \"row\"\n  },\n  kcalValue: {\n    fontSize: 20,\n    lineHeight: 50\n  },\n  unit: {\n    fontSize: 16,\n    lineHeight: 50,\n    paddingLeft: 5\n  },\n  leftAction: {\n    backgroundColor: \"red\"\n  },\n  actionText: {\n    fontSize: 13,\n    width: 50,\n    fontWeight: \"bold\",\n    color: \"#fff\",\n    textAlign: \"center\",\n    lineHeight: 50\n  }\n});\n\nvar FoodList = function FoodList(props) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      deleteItemKey = _useState2[0],\n      setDeleteItemKey = _useState2[1];\n\n  var handleDelete = function handleDelete() {\n    var _firebase$auth = firebase.auth(),\n        currentUser = _firebase$auth.currentUser;\n\n    var db = firebase.firestore();\n    db.collection(\"users/\" + currentUser.uid + \"/food\").doc(\"\" + deleteItemKey).delete().then(function () {\n      console.log(\"Document successfully deleted!\");\n    }).catch(function (error) {\n      console.error(\"Error removing document: \", error);\n    });\n  };\n\n  var renderRightActions = function renderRightActions() {\n    return React.createElement(TouchableHighlight, {\n      style: styles.leftAction,\n      onPress: handleDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 8\n      }\n    }, React.createElement(Text, {\n      style: styles.actionText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 10\n      }\n    }, React.createElement(FontAwesome, {\n      name: \"trash\",\n      size: 25,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    })));\n  };\n\n  var getKey = function getKey(item) {\n    setDeleteItemKey(item.key);\n  };\n\n  var renderFood = function renderFood(_ref) {\n    var item = _ref.item;\n    return React.createElement(Swipeable, {\n      renderRightActions: renderRightActions,\n      onSwipeableOpen: function onSwipeableOpen() {\n        getKey(item);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: styles.listItemContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.foodTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, item.foodMemo), React.createElement(View, {\n      style: styles.kcal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: styles.kcalValue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }, item.kcal), React.createElement(Text, {\n      style: styles.unit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }, \"kcal\"))));\n  };\n\n  return React.createElement(View, {\n    style: styles.foodListContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, React.createElement(FlatList, {\n    data: props.foodData,\n    renderItem: renderFood.bind(_this),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default FoodList;","map":{"version":3,"sources":["/Users/aichibaseball/training-management-app/src/components/FoodList.js"],"names":["React","useState","firebase","Swipeable","FontAwesome","styles","StyleSheet","create","foodListContainer","width","flex","listItemContainer","borderBottomWidth","borderBottomColor","backgroundColor","height","flexDirection","justifyContent","foodTitle","fontSize","lineHeight","textAlign","kcal","kcalValue","unit","paddingLeft","leftAction","actionText","fontWeight","color","FoodList","props","deleteItemKey","setDeleteItemKey","handleDelete","auth","currentUser","db","firestore","collection","uid","doc","delete","then","console","log","catch","error","renderRightActions","getKey","item","key","renderFood","foodMemo","foodData","bind"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport { StyleSheet, Text, View,TouchableHighlight,FlatList } from 'react-native';\nimport firebase from \"firebase\"\nimport Swipeable from 'react-native-gesture-handler/Swipeable'\nimport { FontAwesome } from '@expo/vector-icons';\n\n\nconst styles = StyleSheet.create({\n  foodListContainer: {\n    width: \"100%\",\n    flex: 1,\n  },\n  listItemContainer: {\n    width: \"100%\",\n    borderBottomWidth: 1,\n    borderBottomColor: \"#ddd\",\n    backgroundColor: '#fff',\n    height:50,\n    flexDirection : \"row\",\n    justifyContent : \"space-around\"\n  },\n  foodTitle: {\n    fontSize: 20,\n    width: \"50%\",\n    lineHeight: 50,\n    textAlign:\"center\"\n  },\n  kcal:{\n    flexDirection:\"row\",\n\n  },\n  kcalValue: {\n    fontSize: 20,\n    lineHeight: 50,\n  },\n  unit :{\n    fontSize : 16,\n    lineHeight: 50,\n    paddingLeft:5\n  },\n  leftAction:{\n    backgroundColor:\"red\"\n  },\n  actionText:{\n    fontSize:13,\n    width:50,\n    fontWeight:\"bold\",\n    color:\"#fff\",\n    textAlign:\"center\",\n    lineHeight: 50,\n  }\n})\n\n\n\n\nconst  FoodList =(props)=> {\n  const [deleteItemKey,setDeleteItemKey]=useState()\n\n   const handleDelete = ()=>{\n     const {currentUser} = firebase.auth();\n     const db =firebase.firestore()\n\n     db.collection(`users/${currentUser.uid}/food`).doc(`${deleteItemKey}`).delete()\n     .then(function() {\n       console.log(\"Document successfully deleted!\");\n       })\n     .catch(function(error) {\n       console.error(\"Error removing document: \", error);\n     });\n   }\n  const renderRightActions = ()=>{\n    return (\n       <TouchableHighlight style={styles.leftAction} \n       onPress={handleDelete}>\n         <Text style={styles.actionText}>\n          <FontAwesome  name={\"trash\"} size={25}/>\n         </Text> \n       </TouchableHighlight>\n    );\n  };\n  const getKey = (item)=>{\n    setDeleteItemKey(item.key)\n  }\n  const renderFood =({item})=> {\n    return(\n      <Swipeable renderRightActions={renderRightActions}\n      onSwipeableOpen={()=>{getKey(item)}} >\n          <View style={styles.listItemContainer}>\n            <Text style={styles.foodTitle}>{item.foodMemo}</Text>\n            <View style={styles.kcal}>\n              <Text style={styles.kcalValue}>{item.kcal}</Text>\n              <Text style={styles.unit}>kcal</Text>\n            </View>\n          </View>\n      </Swipeable>\n    )\n  }\n  return (\n    <View style={styles.foodListContainer}>\n      <FlatList data={props.foodData} renderItem={renderFood.bind(this)}/>\n    </View>\n  )  \n}\n\n\nexport default FoodList ;"]},"metadata":{},"sourceType":"module"}