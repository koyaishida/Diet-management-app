{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/aichibaseball/training-management-app/src/components/TrainingMenuList.js\";\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport SectionList from \"react-native-web/dist/exports/SectionList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport firebase from \"firebase\";\nimport Swipeable from 'react-native-gesture-handler/Swipeable';\nimport { FontAwesome } from '@expo/vector-icons';\nvar styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    flex: 1\n  },\n  label: {\n    fontSize: 20,\n    color: \"#fff\",\n    padding: 12,\n    fontWeight: \"bold\",\n    width: \"90%\"\n  },\n  item: {\n    padding: 12,\n    width: \"100%\",\n    borderBottomWidth: 1,\n    borderBottomColor: \"#ddd\",\n    backgroundColor: '#fff'\n  },\n  labelContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    backgroundColor: 'green',\n    color: \"#fff\"\n  },\n  addMenu: {\n    color: \"#fff\",\n    fontSize: 28,\n    lineHeight: 38\n  },\n  leftAction: {\n    backgroundColor: \"red\"\n  },\n  actionText: {\n    fontSize: 13,\n    width: 50,\n    fontWeight: \"bold\",\n    color: \"#fff\",\n    textAlign: \"center\",\n    lineHeight: 50\n  }\n});\nvar array = [\"胸\", \"背中\", \"肩\", \"腕\", \"脚\", \"その他\"];\n\nvar sortedTraining = function sortedTraining(a, b) {\n  return array.indexOf(a.title) - array.indexOf(b.title);\n};\n\nvar TrainingMenuList = function TrainingMenuList(props) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      deleteMenu = _useState2[0],\n      setDeleteMenu = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      deleteArrayName = _useState4[0],\n      setDeleteArrayName = _useState4[1];\n\n  var navigation = props.navigation.navigation;\n  var DATA = props.trainingMenu;\n  var id = props.id;\n  DATA.sort(sortedTraining);\n\n  var handleDelete = function handleDelete() {\n    var _firebase$auth = firebase.auth(),\n        currentUser = _firebase$auth.currentUser;\n\n    var db = firebase.firestore();\n    db.collection(\"users/\" + currentUser.uid + \"/trainingMenu\").doc(id).update(_defineProperty({}, deleteArrayName, firebase.firestore.FieldValue.arrayRemove(deleteMenu))).then(function () {\n      navigation.navigate(\"TrainingMenu\");\n    }).catch(function (error) {\n      console.error(\"Error adding document: \", error);\n    });\n  };\n\n  var renderRightActions = function renderRightActions() {\n    return React.createElement(TouchableHighlight, {\n      style: styles.leftAction,\n      onPress: handleDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 8\n      }\n    }, React.createElement(Text, {\n      style: styles.actionText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 10\n      }\n    }, React.createElement(FontAwesome, {\n      name: \"trash\",\n      size: 25,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    })));\n  };\n\n  var getKey = function getKey(data, section) {\n    setDeleteMenu(data);\n    setDeleteArrayName(section.title);\n  };\n\n  var Item = function Item(_ref) {\n    var data = _ref.data,\n        section = _ref.section;\n    return React.createElement(Swipeable, {\n      renderRightActions: renderRightActions,\n      onSwipeableOpen: function onSwipeableOpen() {\n        getKey(data, section);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }\n    }, React.createElement(TouchableHighlight, {\n      style: styles.item,\n      onPress: function onPress() {\n        return navigation.navigate(\"TrainingMemo\", {\n          trainingMenu: data,\n          part: section.title\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: styles.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }\n    }, data)));\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, React.createElement(SectionList, {\n    sections: DATA,\n    keyExtractor: function keyExtractor(item, index) {\n      return item + index;\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item,\n          section = _ref2.section;\n      return React.createElement(Item, {\n        data: item,\n        section: section,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 43\n        }\n      });\n    },\n    renderSectionHeader: function renderSectionHeader(_ref3) {\n      var title = _ref3.section.title;\n      return React.createElement(View, {\n        style: styles.labelContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      }, title), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate(\"TrainingAdd\", {\n            trainingMenu: title,\n            id: props.id\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.addMenu,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }\n      }, \"+\")));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default TrainingMenuList;","map":{"version":3,"sources":["/Users/aichibaseball/training-management-app/src/components/TrainingMenuList.js"],"names":["React","useState","firebase","Swipeable","FontAwesome","styles","StyleSheet","create","container","width","flex","label","fontSize","color","padding","fontWeight","item","borderBottomWidth","borderBottomColor","backgroundColor","labelContainer","display","flexDirection","addMenu","lineHeight","leftAction","actionText","textAlign","array","sortedTraining","a","b","indexOf","title","TrainingMenuList","props","deleteMenu","setDeleteMenu","deleteArrayName","setDeleteArrayName","navigation","DATA","trainingMenu","id","sort","handleDelete","auth","currentUser","db","firestore","collection","uid","doc","update","FieldValue","arrayRemove","then","navigate","catch","error","console","renderRightActions","getKey","data","section","Item","part","index"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;;;;;;;;AAEA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,SAAP,MAAsB,wCAAtB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AAIA,IAAMC,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;AAC/BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,KAAK,EAAE,MADE;AAETC,IAAAA,IAAI,EAAE;AAFG,GADoB;AAK/BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE,EADL;AAELC,IAAAA,KAAK,EAAE,MAFF;AAGLC,IAAAA,OAAO,EAAE,EAHJ;AAILC,IAAAA,UAAU,EAAE,MAJP;AAKLN,IAAAA,KAAK,EAAE;AALF,GALwB;AAY/BO,EAAAA,IAAI,EAAE;AACJF,IAAAA,OAAO,EAAE,EADL;AAEJL,IAAAA,KAAK,EAAE,MAFH;AAGJQ,IAAAA,iBAAiB,EAAE,CAHf;AAIJC,IAAAA,iBAAiB,EAAE,MAJf;AAKJC,IAAAA,eAAe,EAAE;AALb,GAZyB;AAmB/BC,EAAAA,cAAc,EAAE;AACdC,IAAAA,OAAO,EAAE,MADK;AAEdC,IAAAA,aAAa,EAAC,KAFA;AAGdH,IAAAA,eAAe,EAAE,OAHH;AAIdN,IAAAA,KAAK,EAAE;AAJO,GAnBe;AAyB/BU,EAAAA,OAAO,EAAE;AACPV,IAAAA,KAAK,EAAE,MADA;AAEPD,IAAAA,QAAQ,EAAE,EAFH;AAGPY,IAAAA,UAAU,EAAE;AAHL,GAzBsB;AA8B/BC,EAAAA,UAAU,EAAC;AACTN,IAAAA,eAAe,EAAC;AADP,GA9BoB;AAiC/BO,EAAAA,UAAU,EAAC;AACTd,IAAAA,QAAQ,EAAC,EADA;AAETH,IAAAA,KAAK,EAAC,EAFG;AAGTM,IAAAA,UAAU,EAAC,MAHF;AAITF,IAAAA,KAAK,EAAC,MAJG;AAKTc,IAAAA,SAAS,EAAC,QALD;AAMTH,IAAAA,UAAU,EAAE;AANH;AAjCoB,CAAlB,CAAf;AA4CA,IAAMI,KAAK,GAAG,CAAC,GAAD,EAAK,IAAL,EAAU,GAAV,EAAc,GAAd,EAAkB,GAAlB,EAAsB,KAAtB,CAAd;;AACA,IAAMC,cAAc,GAAI,SAAlBA,cAAkB,CAACC,CAAD,EAAGC,CAAH;AAAA,SAAOH,KAAK,CAACI,OAAN,CAAcF,CAAC,CAACG,KAAhB,IAAuBL,KAAK,CAACI,OAAN,CAAcD,CAAC,CAACE,KAAhB,CAA9B;AAAA,CAAxB;;AAEC,IAAOC,gBAAgB,GAAE,SAAlBA,gBAAkB,CAACC,KAAD,EAAU;AAAA,kBACAlC,QAAQ,EADR;AAAA;AAAA,MAC1BmC,UAD0B;AAAA,MACfC,aADe;;AAAA,mBAEUpC,QAAQ,EAFlB;AAAA;AAAA,MAE1BqC,eAF0B;AAAA,MAEVC,kBAFU;;AAAA,MAG1BC,UAH0B,GAGZL,KAAK,CAACK,UAHM,CAG1BA,UAH0B;AAIjC,MAAMC,IAAI,GAAGN,KAAK,CAACO,YAAnB;AACA,MAAMC,EAAE,GAAGR,KAAK,CAACQ,EAAjB;AACAF,EAAAA,IAAI,CAACG,IAAL,CAAUf,cAAV;;AAEA,MAAMgB,YAAY,GAAG,SAAfA,YAAe,GAAI;AAAA,yBACF3C,QAAQ,CAAC4C,IAAT,EADE;AAAA,QACjBC,WADiB,kBACjBA,WADiB;;AAExB,QAAMC,EAAE,GAAE9C,QAAQ,CAAC+C,SAAT,EAAV;AAEED,IAAAA,EAAE,CAACE,UAAH,YAAuBH,WAAW,CAACI,GAAnC,oBAAuDC,GAAvD,CAA2DT,EAA3D,EAA+DU,MAA/D,qBACGf,eADH,EACsBpC,QAAQ,CAAC+C,SAAT,CAAmBK,UAAnB,CAA8BC,WAA9B,CAA0CnB,UAA1C,CADtB,GAGAoB,IAHA,CAGK,YAAK;AACThB,MAAAA,UAAU,CAACiB,QAAX,CAAoB,cAApB;AACD,KALA,EAMAC,KANA,CAMM,UAACC,KAAD,EAAS;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAc,yBAAd,EAAyCA,KAAzC;AACD,KARA;AASH,GAbA;;AAeA,MAAME,kBAAkB,GAAG,SAArBA,kBAAqB,GAAI;AAC9B,WACG,oBAAC,kBAAD;AAAoB,MAAA,KAAK,EAAExD,MAAM,CAACoB,UAAlC;AACA,MAAA,OAAO,EAAEoB,YADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAExC,MAAM,CAACqB,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,WAAD;AAAc,MAAA,IAAI,EAAE,OAApB;AAA6B,MAAA,IAAI,EAAE,EAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CAHF,CADH;AASC,GAVF;;AAWD,MAAMoC,MAAM,GAAG,SAATA,MAAS,CAACC,IAAD,EAAMC,OAAN,EAAgB;AAC7B3B,IAAAA,aAAa,CAAC0B,IAAD,CAAb;AACAxB,IAAAA,kBAAkB,CAACyB,OAAO,CAAC/B,KAAT,CAAlB;AACD,GAHD;;AAOC,MAAMgC,IAAI,GAAG,SAAPA,IAAO;AAAA,QAAGF,IAAH,QAAGA,IAAH;AAAA,QAASC,OAAT,QAASA,OAAT;AAAA,WACZ,oBAAC,SAAD;AACA,MAAA,kBAAkB,EAAEH,kBADpB;AAEA,MAAA,eAAe,EAAE,2BAAI;AAACC,QAAAA,MAAM,CAACC,IAAD,EAAMC,OAAN,CAAN;AAAqB,OAF3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE,oBAAC,kBAAD;AAAqB,MAAA,KAAK,EAAE3D,MAAM,CAACW,IAAnC;AACA,MAAA,OAAO,EAAE;AAAA,eAAIwB,UAAU,CAACiB,QAAX,CAAoB,cAApB,EAAmC;AAACf,UAAAA,YAAY,EAACqB,IAAd;AAAmBG,UAAAA,IAAI,EAACF,OAAO,CAAC/B;AAAhC,SAAnC,CAAJ;AAAA,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE5B,MAAM,CAAC4B,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4B8B,IAA5B,CAFA,CAJF,CADY;AAAA,GAAb;;AAYA,SACC,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE1D,MAAM,CAACG,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD;AACE,IAAA,QAAQ,EAAEiC,IADZ;AAEE,IAAA,YAAY,EAAE,sBAACzB,IAAD,EAAOmD,KAAP;AAAA,aAAiBnD,IAAI,GAAGmD,KAAxB;AAAA,KAFhB;AAGE,IAAA,UAAU,EAAE;AAAA,UAAGnD,IAAH,SAAGA,IAAH;AAAA,UAAQgD,OAAR,SAAQA,OAAR;AAAA,aAAsB,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAEhD,IAAZ;AAAkB,QAAA,OAAO,EAAEgD,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAtB;AAAA,KAHd;AAKE,IAAA,mBAAmB,EAAE;AAAA,UAAc/B,KAAd,SAAG+B,OAAH,CAAc/B,KAAd;AAAA,aACnB,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE5B,MAAM,CAACe,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEf,MAAM,CAACM,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA4BsB,KAA5B,CADF,EAEE,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE;AAAA,iBAAIO,UAAU,CAACiB,QAAX,CAAoB,aAApB,EAAkC;AAACf,YAAAA,YAAY,EAAET,KAAf;AAAqBU,YAAAA,EAAE,EAACR,KAAK,CAACQ;AAA9B,WAAlC,CAAJ;AAAA,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEtC,MAAM,CAACkB,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADA,CAFF,CADmB;AAAA,KALvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD;AAkBD,CAvED;;AA0ED,eAAeW,gBAAf","sourcesContent":["import React,{useState} from 'react';\nimport { StyleSheet, Text, View,TouchableHighlight,SectionList,SafeAreaView,TouchableOpacity } from 'react-native';\nimport firebase from \"firebase\"\nimport Swipeable from 'react-native-gesture-handler/Swipeable'\nimport { FontAwesome } from '@expo/vector-icons';\n\n\n\nconst styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    flex: 1,\n  },\n  label: {\n    fontSize: 20,\n    color: \"#fff\",\n    padding: 12,\n    fontWeight: \"bold\",\n    width: \"90%\",\n  },\n  item: {\n    padding: 12,\n    width: \"100%\",\n    borderBottomWidth: 1,\n    borderBottomColor: \"#ddd\",\n    backgroundColor: '#fff',\n  },\n  labelContainer: {\n    display: \"flex\",\n    flexDirection:\"row\",\n    backgroundColor: 'green',\n    color: \"#fff\",\n  },\n  addMenu: {\n    color: \"#fff\",\n    fontSize: 28,\n    lineHeight: 38,\n  },\n  leftAction:{\n    backgroundColor:\"red\"\n  },\n  actionText:{\n    fontSize:13,\n    width:50,\n    fontWeight:\"bold\",\n    color:\"#fff\",\n    textAlign:\"center\",\n    lineHeight: 50,\n  }\n})\n\n\nconst array = [\"胸\",\"背中\",\"肩\",\"腕\",\"脚\",\"その他\"]\nconst sortedTraining = ((a,b)=>array.indexOf(a.title)-array.indexOf(b.title))\n \n const  TrainingMenuList =(props)=> {\n   const [deleteMenu,setDeleteMenu]=useState()\n   const [deleteArrayName,setDeleteArrayName]=useState()\n   const {navigation} = props.navigation\n   const DATA = props.trainingMenu\n   const id = props.id\n   DATA.sort(sortedTraining)\n\n   const handleDelete = ()=>{\n    const {currentUser} = firebase.auth();\n    const db =firebase.firestore()\n\n      db.collection(`users/${currentUser.uid}/trainingMenu`).doc(id).update({\n        [deleteArrayName] : firebase.firestore.FieldValue.arrayRemove(deleteMenu)\n      })\n     .then(()=> {\n       navigation.navigate(\"TrainingMenu\")\n     })\n     .catch((error)=>{\n       console.error(\"Error adding document: \", error);\n     });\n  }\n\n   const renderRightActions = ()=>{\n    return (\n       <TouchableHighlight style={styles.leftAction} \n       onPress={handleDelete}\n       >\n         <Text style={styles.actionText}>\n          <FontAwesome  name={\"trash\"} size={25}/>\n         </Text> \n       </TouchableHighlight>\n      );\n    };\n  const getKey = (data,section)=>{\n    setDeleteMenu(data)\n    setDeleteArrayName(section.title)\n  }\n   \n   \n\n   const Item = ( {data, section} ) => (\n    <Swipeable \n    renderRightActions={renderRightActions}\n    onSwipeableOpen={()=>{getKey(data,section)}}\n    >\n      <TouchableHighlight  style={styles.item} \n      onPress={()=>navigation.navigate(\"TrainingMemo\",{trainingMenu:data,part:section.title})}>\n      <Text style={styles.title}>{data}</Text> \n      </TouchableHighlight>\n    </Swipeable>\n    );\n\n   return(\n    <SafeAreaView style={styles.container}>\n      <SectionList\n        sections={DATA}\n        keyExtractor={(item, index) => item + index}\n        renderItem={({ item,section }) => <Item data={item} section={section} />}\n\n        renderSectionHeader={({ section: { title } }) => (\n          <View style={styles.labelContainer}>\n            <Text style={styles.label}>{title}</Text>\n            <TouchableOpacity onPress={()=>navigation.navigate(\"TrainingAdd\",{trainingMenu: title,id:props.id})}>\n            <Text style={styles.addMenu}>+</Text>\n            </TouchableOpacity>\n          </View>\n        )}\n      />\n  </SafeAreaView>\n   )\n }\n\n\nexport default TrainingMenuList ;"]},"metadata":{},"sourceType":"module"}